{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vn100\\\\Desktop\\\\Ecommerce\\\\client\\\\src\\\\components\\\\routes\\\\AdminRoute.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Route, Link } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport LoadingToRedirect from './LoadingToRedirect';\nimport { currentAdmin } from \"../../functions/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminRoute = ({\n  children,\n  ...rest\n}) => {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [ok, setOk] = useState(false);\n  useEffect(() => {\n    if (user && user.token) {\n      currentAdmin(user.token).then(res => {\n        console.log('CURRENT ADMIN RES', res);\n        setOk(true);\n      }).catch(err => {\n        console.log('ADMIN ROUTE ERR', err);\n        setOk(false);\n      });\n    }\n  }, [user]);\n  return ok ? /*#__PURE__*/_jsxDEV(Route, { ...rest\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 10\n  }, this) : /*#__PURE__*/_jsxDEV(LoadingToRedirect, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 34\n  }, this);\n};\n\n_s(AdminRoute, \"wBhjhzGBq1sJowQkY90HFv97Gs4=\", false, function () {\n  return [useSelector];\n});\n\n_c = AdminRoute;\nexport default AdminRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminRoute\");","map":{"version":3,"sources":["C:/Users/vn100/Desktop/Ecommerce/client/src/components/routes/AdminRoute.js"],"names":["React","useEffect","useState","Route","Link","useSelector","LoadingToRedirect","currentAdmin","AdminRoute","children","rest","user","state","ok","setOk","token","then","res","console","log","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAAQC,KAAR,EAAeC,IAAf,QAA0B,kBAA1B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,SAAQC,YAAR,QAA2B,sBAA3B;;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAW,KAAGC;AAAd,CAAD,KAAyB;AAAA;;AACxC,QAAM;AAAEC,IAAAA;AAAF,MAAWN,WAAW,CAAEO,KAAD,KAAY,EAAE,GAAGA;AAAL,GAAZ,CAAD,CAA5B;AACA,QAAM,CAACC,EAAD,EAAKC,KAAL,IAAcZ,QAAQ,CAAC,KAAD,CAA5B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGU,IAAI,IAAIA,IAAI,CAACI,KAAhB,EAAsB;AAClBR,MAAAA,YAAY,CAACI,IAAI,CAACI,KAAN,CAAZ,CACKC,IADL,CACUC,GAAG,IAAI;AACTC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,GAAjC;AACAH,QAAAA,KAAK,CAAC,IAAD,CAAL;AACH,OAJL,EAKKM,KALL,CAKWC,GAAG,IAAI;AACVH,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BE,GAA/B;AACAP,QAAAA,KAAK,CAAC,KAAD,CAAL;AACH,OARL;AASH;AACJ,GAZQ,EAYN,CAACH,IAAD,CAZM,CAAT;AAcA,SAAOE,EAAE,gBACJ,QAAC,KAAD,OAAWH;AAAX;AAAA;AAAA;AAAA;AAAA,UADI,gBACoB,QAAC,iBAAD;AAAA;AAAA;AAAA;AAAA,UAD7B;AAEH,CApBD;;GAAMF,U;UACeH,W;;;KADfG,U;AAsBN,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {Route, Link} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\nimport {currentAdmin} from \"../../functions/auth\";\r\n\r\nconst AdminRoute = ({children, ...rest}) => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n    const [ok, setOk] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            currentAdmin(user.token)\r\n                .then(res => {\r\n                    console.log('CURRENT ADMIN RES', res)\r\n                    setOk(true);\r\n                })\r\n                .catch(err => {\r\n                    console.log('ADMIN ROUTE ERR', err)\r\n                    setOk(false);\r\n                });\r\n        }\r\n    }, [user]);\r\n\r\n    return ok ?\r\n        (<Route {...rest} />) : (<LoadingToRedirect />);\r\n};\r\n\r\nexport default AdminRoute;"]},"metadata":{},"sourceType":"module"}