{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vn100\\\\Desktop\\\\Ecommerce\\\\client\\\\src\\\\components\\\\forms\\\\FileUpload.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Resizer from 'react-image-file-resizer';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FileUpload = ({\n  values,\n  setValues,\n  setLoading\n}) => {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n\n  const fileUploadAndResize = e => {\n    //console.log(e.target.files);\n    // resize\n    let files = e.target.files[0];\n    let allUploadedFiles = values.images;\n\n    if (files) {\n      setLoading(true);\n\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResize(files[i], 720, 720, 'JPEG', 100, 0, uri => {\n          console.log(uri);\n        }, \"base64\");\n      }\n    } // send back to server to upload to cloudinary\n    // set url to images[] in parent component - ProductCreate\n\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: /*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"btn btn-primary btn-raised\",\n      children: [\" Choose file\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        hidden: true,\n        accept: \"images/*\",\n        onChange: fileUploadAndResize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FileUpload, \"Jxgif+QfY7+MStbF+F1uZ9ypUGY=\", false, function () {\n  return [useSelector];\n});\n\n_c = FileUpload;\nexport default FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["C:/Users/vn100/Desktop/Ecommerce/client/src/components/forms/FileUpload.js"],"names":["React","Resizer","axios","useSelector","FileUpload","values","setValues","setLoading","user","state","fileUploadAndResize","e","files","target","allUploadedFiles","images","i","length","imageFileResize","uri","console","log"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,aAA1B;;;AAEA,MAAMC,UAAU,GAAG,CAAC;AAACC,EAAAA,MAAD;AAASC,EAAAA,SAAT;AAAoBC,EAAAA;AAApB,CAAD,KAAqC;AAAA;;AACpD,QAAM;AAACC,IAAAA;AAAD,MAASL,WAAW,CAAEM,KAAD,KAAY,EAAC,GAAGA;AAAJ,GAAZ,CAAD,CAA1B;;AACA,QAAMC,mBAAmB,GAAIC,CAAD,IAAO;AAC/B;AACA;AACA,QAAIC,KAAK,GAAGD,CAAC,CAACE,MAAF,CAASD,KAAT,CAAe,CAAf,CAAZ;AACA,QAAIE,gBAAgB,GAAGT,MAAM,CAACU,MAA9B;;AAEA,QAAGH,KAAH,EAAS;AACLL,MAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,WAAI,IAAIS,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGJ,KAAK,CAACK,MAAzB,EAAiCD,CAAC,EAAlC,EAAqC;AACjCf,QAAAA,OAAO,CAACiB,eAAR,CACIN,KAAK,CAACI,CAAD,CADT,EAEI,GAFJ,EAGI,GAHJ,EAII,MAJJ,EAKI,GALJ,EAMI,CANJ,EAOKG,GAAD,IAAS;AACTC,UAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,SATD,EASG,QATH;AAUH;AACJ,KApB8B,CAqB/B;AACA;;AACH,GAvBD;;AAyBA,sBACA;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACI;AAAO,MAAA,SAAS,EAAC,4BAAjB;AAAA,8CACA;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,QAAQ,MAFZ;AAGI,QAAA,MAAM,MAHV;AAII,QAAA,MAAM,EAAC,UAJX;AAKI,QAAA,QAAQ,EAAET;AALd;AAAA;AAAA;AAAA;AAAA,cADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADA;AAWH,CAtCD;;GAAMN,U;UACaD,W;;;KADbC,U;AAwCN,eAAeA,UAAf","sourcesContent":["import React from 'react'\r\nimport Resizer from 'react-image-file-resizer';\r\nimport axios from 'axios'\r\nimport {useSelector} from 'react-redux'\r\n\r\nconst FileUpload = ({values, setValues, setLoading}) => {\r\n    const {user} = useSelector((state) => ({...state}));\r\n    const fileUploadAndResize = (e) => {\r\n        //console.log(e.target.files);\r\n        // resize\r\n        let files = e.target.files[0];\r\n        let allUploadedFiles = values.images;\r\n\r\n        if(files){\r\n            setLoading(true);\r\n            for(let i = 0; i < files.length; i++){\r\n                Resizer.imageFileResize(\r\n                    files[i],\r\n                    720,\r\n                    720,\r\n                    'JPEG',\r\n                    100,\r\n                    0,\r\n                    (uri) => {\r\n                    console.log(uri);\r\n                }, \"base64\");\r\n            }\r\n        }\r\n        // send back to server to upload to cloudinary\r\n        // set url to images[] in parent component - ProductCreate\r\n    };\r\n\r\n    return(\r\n    <div className=\"row\">\r\n        <label className=\"btn btn-primary btn-raised\"> Choose file\r\n        <input\r\n            type=\"file\"\r\n            multiple\r\n            hidden\r\n            accept=\"images/*\"\r\n            onChange={fileUploadAndResize} />\r\n        </label>\r\n    </div>);\r\n};\r\n\r\nexport default FileUpload;"]},"metadata":{},"sourceType":"module"}